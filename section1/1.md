[toc]

# 1. 計算機發展史 & 操作系統安裝

## 1 計算機功能介紹和計算機發展史

### 1.1 計算機的定義

- 通俗意義上，用於計算的設備
- 一種可編程機器，基於用戶的**輸入**，執行算術邏輯計算並提供所需的**輸出**

### 1.2 計算機的兩大組件

- 硬件 - 機器本身+周邊外設 - 顯示器/鍵盤/鼠標...

- 軟件 - 利用硬件執行各種功能的程序。

  （其中操作系統本身也是軟件，儅在硬件的基礎上安裝了操作系統后，會順帶“注入”一系列軟件）

### 1.3 計算機硬件基礎介紹

- 通用硬件 - CPU/内存/硬盤/主板/網卡/聲卡/風扇/電源

### 1.4 計算機發展歷史

- 機械 -> 電子管 -> 晶體管 -> 半導體集成電路

## 2  操作系統工作原理和操作系統發展史

### 2.1 操作系統原理

![image-20230107194251776](D:\rhce8\section1\img\image-20230107194251776.png)

### 2.2 操作系統發展階段

### 2.3 操作系統歷史

- Windows

  - 1.0/2.0/3.0/95/98/ME/XP/Vitas/7/8/10/11

- [Unix](https://blog.csdn.net/qq_54015483/article/details/124973245)

  ![img](https://www.cs.miami.edu/home/wuchtys/CSC322-21S/Content/UNIXUse/Pictures/UNIXHistory.gif)

- Linux

  ![img](https://www.cyberciti.biz/tips/wp-content/uploads/2007/06/44218-linuxdistrotimeline-7.2.png)

### 2.4 自由軟件介紹和開源的影響

- [GNU](https://www.gnu.org/)

### 2.5 淺談Windows & Linux

![img](https://networkinterview.com/wp-content/uploads/2019/11/Linux-vs-Windows-v0.1.jpg)

### 2.6 下載Windows & Linux發行版

- [Windows](https://msdn.itellyou.cn/) -> 激活碼（Taobao）
- Linux
  - Free - Fedora/CentOS/Ubuntu/OpenSUSE
  - Commercial - RHEL/SUSE Linux
- Download sources
  - Official Website
  - [Mirror](https://blog.csdn.net/u014641168/article/details/124006548)

## 3 普通PC硬件的構成和介紹

### 3.1 普通硬件介紹

- 主板
  - 主板上有BIOS - Basic Input Output System芯片，BIOS系統嵌入其中
  
  - BIOS有專門電池的供電，即便斷電BIOS芯片仍會工作，比如時鐘...
  
  - 更多關於BIOS
  
    - 專門負責系統硬件的各種參數，是開機后的第一個“可執行程序”，以匯編語言編寫
  
    - BIOS芯片指存儲BIOS程序特定的ROM
  
    - 它将带领CPU识别并加载主板上的重要硬件和集成元件，如硬盘、显卡、声卡以及各种接口，然后按照预设顺序读取存储器上操作系统的引导 - bootloader，通过设置的启动模式找到引导分区装载操作系统
  
    - 順利引導操作系統后，BIOS就隱藏於後臺
  
    - 加載順序
  
      - BIOS -> 南橋 -> 北橋
  
      ![image-20230106215454678](D:\rhce8\section1\img\image-20230106215454678.png)
  
    - 程序段
  
      - **自檢程序**
        通过读取CMOSRAM中的内容，识别硬件配置，并对其进行自检和初始化。
      - **CMOS设置程序**
        引导过程中，用特殊热键启动，进行设置后，存入CMOS RAM中。
      - **系统自检装载程序**
        在自检成功后，将磁盘0磁道0扇区上的引导程序 - bootloader装入内存，运行加载操作系统。
      - **主要l/0设备驱动程序和中断服务**
- CPU
- 内存
- 電源
- 硬盤
- 閃存SSD
- 輸入設備 - 鍵鼠/掃描儀/攝像頭/麥克風
- 輸出設備 - 顯卡/顯示器/音響/打印機

### 3.2 CPU和内存詳解

- CPU - Central Processing Unit

  ![3.4.4 Computer Systems - Systems Architecture](https://bournetocode.com/projects/GCSE_Computing_Fundamentals/pages/img/cpu_cu_alu.png)

  - 結構

    - CU - 控制單元（大腦調度）
    - ALU - 算數邏輯單元（提供計算）
    - Register 寄存器（提供存儲算元）+ 緩存（1/2/3）

  - 簡單流程

    - 控制單元從寄存器中獲取算元放到算數邏輯單元進行運算
    - 讀取順序（使用頻率/讀取速度由高->低）
      - CU -> ALU -> Register -> L1 Cache -> L2 Cache -> L3 Cache
        - -> Memory 
          - -> Disk Cache -> Disk

  - 性能指標

    - 主頻

      - CPU的時鐘頻率 = 工作頻率
      - 一般來説，一個時鐘周期完成的指令數是固定的，主頻越高，CPU處理速度就越快
      - 外頻 ：系統總綫的工作頻率
      - 倍頻：CPU外頻和主頻相差的倍數；主頻 = 外頻 X 倍頻

      ![image-20230106210103064](D:\rhce8\section1\img\image-20230106210103064.png)

    - 核心數（并行）

      - 這裏不是實際的核心數，因爲超綫程Hyper-threading所以看上去比多
      - 更多關於[超綫程](https://www.bilibili.com/read/cv20474227/)
    - 多綫程
          - 
    - 超綫程
    

  ![image-20230106210200617](D:\rhce8\section1\img\image-20230106210200617.png)

    - 緩存
    
      - L1
        - 數據緩存 + 指令緩存
        - 32-256KB
      - L2
        - 内芯 - 主頻
        - 外芯 - 1/2主頻
        - 原則越大越好
          - 家用 - 512K
          - laptop - 2M
          - Dedicated Server - 8M+
      - L3
        - 内置 - 進一步降低内存延遲

- 内存 （主存）
  - 所有程序都運行在内存中
  - 暫存CPU中的算元以及硬盤等外部存儲交換的數據
  - CPU獲取從内存中獲取算元，計算完後返回
  - 内存數據斷電則消失
  - 指標 - 頻率MHz，大小 - 多多益善

### 3.3 硬盤分類詳解

- 接口劃分
  - ~~IDE/ATA（淘汰）~~
  - SCSI（5400rr/m, 7200r/m）
  - ~~SATA（淘汰）~~
  - SAS (10000r/m, 15000r/m, 18000r/m)
- 大小劃分
  - 3.5寸大盤
  - 2.5寸小盤
- 顔色
  - 紅盤（Pro） - NAS
  - 藍盤 - 日常家用
  - 紫盤 - 7*24監控
  - 黑盤 - 高性能
  - 金盤 - 企業
  - 企業盤 - 數據中心
- 指標 - IO

### 3.4 機械硬盤工作原理詳解

- 物理結構
  - 主軸馬達帶動主軸轉
  - 磁頭電機帶動磁頭掃過磁盤片
  - 上下兩個磁頭分別進行讀取寫入

![img](https://pics3.baidu.com/feed/10dfa9ec8a13632746c9e37c834341e509fac7aa.jpeg@f_auto?token=dcb263ea4788243b4fec00a735085297)

- 邏輯結構
  - 扇區 - 數據存儲的基礎單元
  - 磁道 - 磁盤片上的同心圓
  - 柱面 - 縱向多個磁盤片上磁道的叠加
- 指標
  - 磁盤片的轉動速度

### 3.5 windows系統C盤數據多卡頓原因（機械硬盤）

- 磁頭角速度相同的情況下，外圈綫速度大於内圈
- 隨著C盤數據增多，會逐漸由外圈向内圈寫，而内存綫速度是慢于外圈的
- 即便CPU快，硬盤不好也會導致運行慢

### 3.6 固態硬盤介紹

- 接口分類
  - SATA
  - mSATA
  - M.2
  - SATA
  -  Express
  - PCI-E
  - U.2

## 4 服務器硬件構成和介紹

### 4.1 服務器介紹

- [Dell](https://www.dell.com/zh-cn/work/shop/scc/sc/servers?~ck=mn)/[Lenovo](https://biz.lenovo.com.cn/)/[H3C](http://www.h3c.com/cn/Products___Technology/Products/Server/)/[浪潮](http://www.inspur.com/lcjtww/2315499/2315503/2316859/index.html)
  - Tower塔式服務器
    - ⻅得最多也最容易理解的一种服务器结构类型，因为它的外形以及结构都跟⽴式PC差不多，当然，由于服务器的主板扩展性较强、插槽也多出⼀堆，所以个头比普通主板⼤⼀些，因此塔式服务器的主机机箱也⽐标准的ATX机箱要大，⼀般都会预留足夠的内部空间以便⽇后進行硬盘和电源的冗余扩展
  - Rack機架式服務器
    - 机架式服务器的外形看来不像计算机，而像交换机，有1U、 2U、4U等规格（1U=1.75英⼨）
    - 机架式服务器安装在标准的19英⼨机柜⾥⾯
    - 服務器機櫃
      - 提供对存放设备的保护，屏蔽电磁⼲扰，有序、整⻬地排列设备，⽅便以后维护设备
      - 選擇機櫃取決於設備的深度
        - 網絡機櫃 - 600cm
        - 服務器機櫃  - 800/900/1000/1100cm
        - 控制臺機櫃
  - Blade刀片式服務器 & 刀箱
    - 在标准⾼度的机架式机箱内可插装多个卡式的服务器单元
    - 實現HA - 高可用/HD - 高密度的低成本服務器平臺
    - 每一塊刀片相當於一塊系統主板
    - 擴展性低於機架式

### 4.2 普通PC和服務器的區別

- 硬件性能指標 & 操作系統
- 簡單來説，服務器就是穩定性/安全性/數據處理能力更强的PC

### 4.3 服務器重要硬件

- 電源
  - ATX電源 - 普遍，應用於臺式機/工作站/地段服務器
  - SSI電源 - 適用於各種檔次
  - 數據中心電源
    - 一般2個，AB兩路電源連接到2個發電站
    - 異地備份 or 云數據中心可不用雙路電源
    - 关键业务的服务器需要UPS作为备份电源 - 斷電續命
- 網卡
  - 如果⼀台服务器CPU的⼤部分时间都在为網卡提供数据响应，势必会影响服务器对其它任务的处理速度
  - 较低的CPU占用率对于服务器用網卡来说是非常重要的
  - 服务器專用網卡具有特殊的⽹络控制芯片，它可以从主CPU中接管许多⽹络任务，使主CPU集中“精力”運行⽹络操作和應用程序
  - 服务器⽹卡⼀般需要做链路捆绑
- 遠程管理卡
  - BMC - 服務器斷電的情況下仍然可以通過網絡訪問
- 硬盤
  - 如果說服務器是網絡數據的核心，那麽其硬盤就是這個核心的數據倉庫，存放軟件和用戶數據
  - 一般采用高速/穩定/安全的SAS
  - 本地系統盤一般會做RAID（硬件/軟件） - 提升硬盤IO/可用性/容量

### 4.4 服務器CPU選型

- 如果應用单线程消耗资源比較多那选型的时候CPU的单核心主频高度⼀些会好
- 如果服务器是應用于虚拟化平台使用，那么服务器的CPU核心数量高⼀些会好

### 4.5 企業案例

1. 極端并發（微信紅包，淘寶雙11）

    - ⾼并发，⼤数据量写⼊数据，由于磁盘的写速度不⾜，所以需要将数据写⼊到内存中， 积累⼀定的量后，然后再定时或者定量的写入到磁盘中，这样能减少磁盘的IO，最终还是会加载到内存对外提供访问
    - 優點 - 寫數據到内存，内存速度快
    - 缺點 - 斷電就寄
    - 解決辦法
      1. 服務器主板安裝電池
      2. UPS不間斷供電
      3. 雙路點機房，使用雙電源，分別接不通的發電廠
2. 應用緩存
   - 对于并发不是很大，数据也不是特别大的⽹站，“读多写少”的业务，会先将数据写⼊到磁盘，然后再通过程序把数据读⼊到内存⾥，再对外通过内存提供访问服务，這就是緩存技術
     - 寫入數據 -> 緩衝區`buffer`
     - 讀取數據 -> 緩存區`cache`
3. 硬盤熱點數據優化
    - ①常规正式业务应⽤⼯作场景主选SAS硬盘
    - ②不对外提供访问的服务器，例如备份服务器选择SATA
    - ③高并发访问，数据量小的时候选择SSD（IO高）
    - 淘宝或类似企业案例会结合SAS（或SATA）加上SSD使⽤，热点数据存储在SSD中，非热点数据存储在SAS中。通过程序动态监控数据访问频率（热度）来动态将数据在SSD和SAS中移动

- 總結：上述的内存和磁盤都是由多台機器組成的集群 - memorycache（純内存）& redis（内存+磁盤）

## 5. Linux學習的重要性

### 5.1 到底要不要學Linux

- ICT - IT（Information Technology） + CT（Communication Technology）
- 客戶端（開發/用戶/Helpdesk） - 傳輸端（網絡工程師 - CT） - 服務端（運維 - IT）

### 5.2 Linux分支選擇

- [Redhat Training](https://www.redhat.com/zh/services/training/all-courses-exams) 

### 5.3 Linux學習階段

- 初級
  - 系統安裝
  - GUI界面使用
  - 簡單目錄結構
  - 常用命令
- 中級
  - 用戶/文件系統管理
  - 網絡管理
  - 磁盤管理
  - 系統和日志維護管理
  - 安全優化
  - 備份回復
  - Shell初級編程
- 高級
  - 系統工程師
    - DNS/Mail/Web/FTP/NPS/Sambo/LAMP/Server Cluster/Cloud Computing
  - 開發工程師
    - Shell/C/嵌入式/Python

## 6. 操作系統安裝

### 6.1 物理機安裝

- 準備
  1. 至少8G USB
  2. 系統鏡像.iso
  3. U盤燒錄工具 - “軟碟通”
- 步驟
  1. 通過U盤燒錄工具製作可引導的系統USB
  2. 通過燒錄好的USB安裝系統

### 6.2 虛擬機安裝



## 7. 虛擬化軟件基礎操作

### 7.1 操作系統安裝原理詳解

### 7.2 虛擬化軟件介紹

